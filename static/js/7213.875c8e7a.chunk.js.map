{"version":3,"file":"static/js/7213.875c8e7a.chunk.js","mappings":"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","sources":["../node_modules/@babel/runtime/helpers/esm/wrapRegExp.js","../node_modules/@arcgis/core/layers/graphics/sources/geojson/geojson.js","../node_modules/@arcgis/core/layers/ogc/ogcFeatureUtils.js"],"sourcesContent":["import _typeof from \"./typeof.js\";\nimport setPrototypeOf from \"./setPrototypeOf.js\";\nimport inherits from \"./inherits.js\";\nexport default function _wrapRegExp() {\n  _wrapRegExp = function _wrapRegExp(re, groups) {\n    return new BabelRegExp(re, void 0, groups);\n  };\n  var _super = RegExp.prototype,\n    _groups = new WeakMap();\n  function BabelRegExp(re, flags, groups) {\n    var _this = new RegExp(re, flags);\n    return _groups.set(_this, groups || _groups.get(re)), setPrototypeOf(_this, BabelRegExp.prototype);\n  }\n  function buildGroups(result, re) {\n    var g = _groups.get(re);\n    return Object.keys(g).reduce(function (groups, name) {\n      var i = g[name];\n      if (\"number\" == typeof i) groups[name] = result[i];else {\n        for (var k = 0; void 0 === result[i[k]] && k + 1 < i.length;) k++;\n        groups[name] = result[i[k]];\n      }\n      return groups;\n    }, Object.create(null));\n  }\n  return inherits(BabelRegExp, RegExp), BabelRegExp.prototype.exec = function (str) {\n    var result = _super.exec.call(this, str);\n    if (result) {\n      result.groups = buildGroups(result, this);\n      var indices = result.indices;\n      indices && (indices.groups = buildGroups(indices, this));\n    }\n    return result;\n  }, BabelRegExp.prototype[Symbol.replace] = function (str, substitution) {\n    if (\"string\" == typeof substitution) {\n      var groups = _groups.get(this);\n      return _super[Symbol.replace].call(this, str, substitution.replace(/\\$<([^>]+)>/g, function (_, name) {\n        var group = groups[name];\n        return \"$\" + (Array.isArray(group) ? group.join(\"$\") : group);\n      }));\n    }\n    if (\"function\" == typeof substitution) {\n      var _this = this;\n      return _super[Symbol.replace].call(this, str, function () {\n        var args = arguments;\n        return \"object\" != _typeof(args[args.length - 1]) && (args = [].slice.call(args)).push(buildGroups(args, _this)), substitution.apply(this, args);\n      });\n    }\n    return _super[Symbol.replace].call(this, str, substitution);\n  }, _wrapRegExp.apply(this, arguments);\n}","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Error.js\";import{OptimizedFeature as t}from\"../../OptimizedFeature.js\";import n from\"../../OptimizedGeometry.js\";import{normalizeFieldName as o,isNumericField as r}from\"../../../support/fieldUtils.js\";const i={LineString:\"esriGeometryPolyline\",MultiLineString:\"esriGeometryPolyline\",MultiPoint:\"esriGeometryMultipoint\",Point:\"esriGeometryPoint\",Polygon:\"esriGeometryPolygon\",MultiPolygon:\"esriGeometryPolygon\"};function s(e){return i[e]}function*c(e){switch(e.type){case\"Feature\":yield e;break;case\"FeatureCollection\":for(const t of e.features)t&&(yield t)}}function*u(e){if(!e)return null;switch(e.type){case\"Point\":yield e.coordinates;break;case\"LineString\":case\"MultiPoint\":yield*e.coordinates;break;case\"MultiLineString\":case\"Polygon\":for(const t of e.coordinates)yield*t;break;case\"MultiPolygon\":for(const t of e.coordinates)for(const e of t)yield*e}}function*l(e,o={}){const{geometryType:r,objectIdField:i}=o;for(const c of e){const{geometry:e,properties:u,id:l}=c;if(e&&s(e.type)!==r)continue;const f=u||{};let a=f[i]??null;i&&null!=l&&!f[i]&&(f[i]=a=l);const y=new t(e?g(new n,e,o):null,f,null,a);yield y}}function f(e){for(const t of e)if(t.length>2)return!0;return!1}function a(e){return!p(e)}function y(e){return p(e)}function p(e){let t=0;for(let n=0;n<e.length;n++){const o=e[n],r=e[(n+1)%e.length];t+=o[0]*r[1]-r[0]*o[1]}return t<=0}function d(e){const t=e[0],n=e[e.length-1];return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]||e.push(t),e}function g(e,t,n){switch(t.type){case\"LineString\":return m(e,t,n);case\"MultiLineString\":return h(e,t,n);case\"MultiPoint\":return w(e,t,n);case\"MultiPolygon\":return P(e,t,n);case\"Point\":return b(e,t,n);case\"Polygon\":return j(e,t,n)}}function m(e,t,n){return G(e,t.coordinates,n),e}function h(e,t,n){for(const o of t.coordinates)G(e,o,n);return e}function w(e,t,n){return G(e,t.coordinates,n),e}function P(e,t,n){for(const o of t.coordinates){S(e,o[0],n);for(let t=1;t<o.length;t++)F(e,o[t],n)}return e}function b(e,t,n){return k(e,t.coordinates,n),e}function j(e,t,n){const o=t.coordinates;S(e,o[0],n);for(let r=1;r<o.length;r++)F(e,o[r],n);return e}function S(e,t,n){const o=d(t);a(o)?M(e,o,n):G(e,o,n)}function F(e,t,n){const o=d(t);y(o)?M(e,o,n):G(e,o,n)}function G(e,t,n){for(const o of t)k(e,o,n);e.lengths.push(t.length)}function M(e,t,n){for(let o=t.length-1;o>=0;o--)k(e,t[o],n);e.lengths.push(t.length)}function k(e,t,n){const[o,r,i]=t;e.coords.push(o,r),n.hasZ&&e.coords.push(i||0)}function O(e){switch(typeof e){case\"string\":return\"esriFieldTypeString\";case\"number\":return\"esriFieldTypeDouble\";default:return\"unknown\"}}function T(t){if(!t)throw new e(\"geojson-layer:empty\",\"GeoJSON data is empty\");if(\"Feature\"!==t.type&&\"FeatureCollection\"!==t.type)throw new e(\"geojson-layer:unsupported-geojson-object\",\"missing or not supported GeoJSON object type\",{data:t});const{crs:n}=t;if(!n)return;const o=\"string\"==typeof n?n:\"name\"===n.type?n.properties.name:\"EPSG\"===n.type?n.properties.code:null,r=new RegExp(\".*(CRS84H?|4326)$\",\"i\");if(!o||!r.test(o))throw new e(\"geojson-layer:unsupported-crs\",\"unsupported GeoJSON 'crs' member\",{crs:n})}function L(e,t={}){const n=[],i=new Set,l=new Set;let a,y=!1,p=null,d=!1,{geometryType:g=null}=t,m=!1;for(const r of c(e)){const{geometry:e,properties:t,id:c}=r;if(!e||(g||(g=s(e.type)),s(e.type)===g)){if(!y){y=f(u(e))}if(d||(d=null!=c,d&&(a=typeof c,p=Object.keys(t).filter((e=>t[e]===c)))),d&&null!=c&&(p.length>1?p=p.filter((e=>t[e]===c)):1===p.length&&(p=t[p[0]]===c?p:[])),!m&&t){let e=!0;for(const r in t){if(i.has(r))continue;const s=t[r];if(null==s){e=!1,l.add(r);continue}const c=O(s);\"unknown\"!==c?(l.delete(r),i.add(r),n.push({name:o(r),alias:r,type:c})):l.add(r)}m=e}}}const h=o(1===p?.length&&p[0]||null);if(h)for(const o of n)if(o.name===h&&r(o)){o.type=\"esriFieldTypeOID\";break}return{fields:n,geometryType:g,hasZ:y,objectIdFieldName:h,objectIdFieldType:a,unknownFields:Array.from(l)}}function I(e,t){return Array.from(l(c(e),t))}export{I as createOptimizedFeatures,s as getGeometryType,L as inferLayerProperties,T as validateGeoJSON};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport\"../../geometry.js\";import e from\"../../request.js\";import t from\"../../core/Error.js\";import n from\"../../core/Logger.js\";import{isNone as i,unwrapOr as r,isSome as a}from\"../../core/maybe.js\";import{WGS84 as o}from\"../../geometry/support/spatialReferenceUtils.js\";import{project as s}from\"../../geometry/support/webMercatorUtils.js\";import{convertToFeatureSet as l,convertToGeometry as c,convertFromGeometry as d}from\"../graphics/featureConversionUtils.js\";import u from\"../graphics/OptimizedFeatureSet.js\";import{validateGeoJSON as m,inferLayerProperties as p,createOptimizedFeatures as f}from\"../graphics/sources/geojson/geojson.js\";import{createDrawingInfo as g}from\"../graphics/sources/support/clientSideDefaults.js\";import y from\"../support/FieldsIndex.js\";import{kebabDict as w}from\"../support/fieldType.js\";import b from\"../../geometry/SpatialReference.js\";const h=n.getLogger(\"esri.layers.graphics.sources.ogcfeature\"),j=\"http://www.opengis.net/def/crs/\",F=`${j}OGC/1.3/CRS84`;async function I(n,r,a={},o=5){const{links:s}=n,l=D(s,\"items\",\"application/geo+json\")||D(s,\"http://www.opengis.net/def/rel/ogc/1.0/items\",\"application/geo+json\");if(i(l))throw new t(\"ogc-feature-layer:missing-items-page\",\"Missing items url\");const{data:c}=await e(l.href,{signal:a.signal,query:{limit:o,...a.customParameters,token:a.apiKey},headers:{accept:\"application/geo+json\"}});await m(c);const d=p(c,{geometryType:r.geometryType}),u=r.fields||d.fields||[],f=null!=r.hasZ?r.hasZ:d.hasZ,b=d.geometryType,j=r.objectIdField||d.objectIdFieldName||\"OBJECTID\";let F=r.timeInfo;const I=u.find((({name:e})=>e===j));if(I)I.editable=!1,I.nullable=!1;else{if(!d.objectIdFieldType)throw new t(\"ogc-feature-layer:missing-feature-id\",\"Collection geojson require a feature id as a unique identifier\");u.unshift({name:j,alias:j,type:\"number\"===d.objectIdFieldType?\"esriFieldTypeOID\":\"esriFieldTypeString\",editable:!1,nullable:!1})}if(j!==d.objectIdFieldName){const e=u.find((({name:e})=>e===d.objectIdFieldName));e&&(e.type=\"esriFieldTypeInteger\")}u===d.fields&&d.unknownFields.length>0&&h.warn({name:\"ogc-feature-layer:unknown-field-types\",message:\"Some fields types couldn't be inferred from the features and were dropped\",details:{unknownFields:d.unknownFields}});for(const e of u){if(null==e.name&&(e.name=e.alias),null==e.alias&&(e.alias=e.name),\"esriFieldTypeOID\"!==e.type&&\"esriFieldTypeGlobalID\"!==e.type&&(e.editable=null==e.editable||!!e.editable,e.nullable=null==e.nullable||!!e.nullable),!e.name)throw new t(\"ogc-feature-layer:invalid-field-name\",\"field name is missing\",{field:e});if(!w.jsonValues.includes(e.type))throw new t(\"ogc-feature-layer:invalid-field-type\",`invalid type for field \"${e.name}\"`,{field:e})}if(F){const e=new y(u);if(F.startTimeField){const t=e.get(F.startTimeField);t?(F.startTimeField=t.name,t.type=\"esriFieldTypeDate\"):F.startTimeField=null}if(F.endTimeField){const t=e.get(F.endTimeField);t?(F.endTimeField=t.name,t.type=\"esriFieldTypeDate\"):F.endTimeField=null}if(F.trackIdField){const t=e.get(F.trackIdField);t?F.trackIdField=t.name:(F.trackIdField=null,h.warn({name:\"ogc-feature-layer:invalid-timeInfo-trackIdField\",message:\"trackIdField is missing\",details:{timeInfo:F}}))}F.startTimeField||F.endTimeField||(h.warn({name:\"ogc-feature-layer:invalid-timeInfo\",message:\"startTimeField and endTimeField are missing\",details:{timeInfo:F}}),F=null)}return{drawingInfo:b?g(b):null,extent:W(n),geometryType:b,fields:u,hasZ:!!f,objectIdField:j,timeInfo:F}}async function T(n,r={}){const{links:a}=n,o=D(a,\"data\",\"application/json\")||D(a,\"http://www.opengis.net/def/rel/ogc/1.0/data\",\"application/json\");if(i(o))throw new t(\"ogc-feature-layer:missing-collections-page\",\"Missing collections url\");const{apiKey:s,customParameters:l,signal:c}=r,{data:d}=await e(o.href,{signal:c,headers:{accept:\"application/json\"},query:{...l,token:s}});return d}async function k(n,r={}){const{links:a}=n,o=D(a,\"conformance\",\"application/json\")||D(a,\"http://www.opengis.net/def/rel/ogc/1.0/conformance\",\"application/json\");if(i(o))throw new t(\"ogc-feature-layer:missing-conformance-page\",\"Missing conformance url\");const{apiKey:s,customParameters:l,signal:c}=r,{data:d}=await e(o.href,{signal:c,headers:{accept:\"application/json\"},query:{...l,token:s}});return d}async function x(t,n={}){const{apiKey:i,customParameters:r,signal:a}=n,{data:o}=await e(t,{signal:a,headers:{accept:\"application/json\"},query:{...r,token:i}});return o}async function S(t,n={}){const r=\"application/vnd.oai.openapi+json;version=3.0\",a=D(t.links,\"service-desc\",r);if(i(a))return h.warn(\"ogc-feature-layer:missing-openapi-page\",\"The OGC API-Features server does not have an OpenAPI page.\"),null;const{apiKey:o,customParameters:s,signal:l}=n,{data:c}=await e(a.href,{signal:l,headers:{accept:r},query:{...s,token:o}});return c}function v(e){const t=/^http:\\/\\/www\\.opengis.net\\/def\\/crs\\/(?<authority>.*)\\/(?<version>.*)\\/(?<code>.*)$/i.exec(e)?.groups;if(!t)return null;const{authority:n,code:i}=t;switch(n.toLowerCase()){case\"ogc\":switch(i.toLowerCase()){case\"crs27\":return b.GCS_NAD_1927.wkid;case\"crs83\":return 4269;case\"crs84\":case\"crs84h\":return b.WGS84.wkid;default:return null}case\"esri\":case\"epsg\":{const e=Number.parseInt(i,10);return Number.isNaN(e)?null:e}default:return null}}async function N(e,t,n){const i=await q(e,t,n);return l(i)}async function q(n,l,m){const{collection:p,layerDefinition:g,maxRecordCount:y,queryParameters:{apiKey:w,customParameters:h},spatialReference:j,supportedCrs:F}=n,{links:I}=p,T=D(I,\"items\",\"application/geo+json\")||D(I,\"http://www.opengis.net/def/rel/ogc/1.0/items\",\"application/geo+json\");if(i(T))throw new t(\"ogc-feature-layer:missing-items-page\",\"Missing items url\");const{geometry:k,num:x,start:S,timeExtent:v,where:N}=l;if(l.objectIds)throw new t(\"ogc-feature-layer:query-by-objectids-not-supported\",\"Queries with objectids are not supported\");const q=b.fromJSON(j),O=r(l.outSpatialReference,q),C=O.isWGS84?null:R(O,F),W=G(k,F),P=M(v),Z=$(N),K=x??(null!=S&&void 0!==S?10:y),{data:L}=await e(T.href,{...m,query:{...h,...W,crs:C,datetime:P,query:Z,limit:K,startindex:S,token:w},headers:{accept:\"application/geo+json\"}});let J=!1;if(L.links){const e=L.links.find((e=>\"next\"===e.rel));J=!!e}!J&&Number.isInteger(L.numberMatched)&&Number.isInteger(L.numberReturned)&&(J=L.numberReturned<L.numberMatched);const{fields:z,geometryType:A,hasZ:E,objectIdField:U}=g,_=f(L,{geometryType:A,hasZ:E,objectIdField:U});if(!C&&O.isWebMercator)for(const e of _)if(a(e.geometry)){const t=c(e.geometry,A,E,!1);t.spatialReference=b.WGS84,e.geometry=d(s(t,O))}for(const e of _)e.objectId=e.attributes[U];const B=C||!C&&O.isWebMercator?O.toJSON():o,Q=new u;return Q.exceededTransferLimit=J,Q.features=_,Q.fields=z,Q.geometryType=A,Q.hasZ=E,Q.objectIdFieldName=U,Q.spatialReference=B,Q}function O(e){return a(e)&&\"extent\"===e.type}function R(e,t){const{isWebMercator:n,wkid:i}=e;if(!i)return null;const r=n?t[3857]??t[102100]??t[102113]??t[900913]:t[e.wkid];return r?`${j}${r}`:null}function C(e){if(i(e))return\"\";const{xmin:t,ymin:n,xmax:r,ymax:a}=e;return`${t},${n},${r},${a}`}function M(e){if(i(e))return null;const{start:t,end:n}=e;return`${a(t)?t.toISOString():\"..\"}/${a(n)?n.toISOString():\"..\"}`}function $(e){return i(e)||!e||\"1=1\"===e?null:e}function G(e,t){if(!O(e))return null;const{spatialReference:n}=e;if(!n||n.isWGS84)return{bbox:C(e)};const i=R(n,t);return a(i)?{bbox:C(e),\"bbox-crs\":i}:n.isWebMercator?{bbox:C(s(e,b.WGS84))}:null}function W(e){const t=e.extent?.spatial;if(!t)return null;const n=t.bbox[0],i=4===n.length,r=n[0],a=n[1],o=i?void 0:n[2];return{xmin:r,ymin:a,xmax:i?n[2]:n[3],ymax:i?n[3]:n[4],zmin:o,zmax:i?void 0:n[5],spatialReference:b.WGS84.toJSON()}}function D(e,t,n){return e.find((e=>e.rel===t&&e.type===n))||e.find((e=>e.rel===t&&!e.type))}export{F as crsDefault,j as crsPrefix,I as getCollectionDefinition,T as getServerCollections,k as getServerConformance,x as getServerLandingPage,S as getServerOpenApi,v as getSpatialReferenceWkid,N as queryFeatureSetJSON,q as queryOptimizedFeatureSet};\n"],"names":["_wrapRegExp","re","groups","BabelRegExp","_super","RegExp","prototype","_groups","WeakMap","flags","_this","set","get","buildGroups","result","g","Object","keys","reduce","name","i","k","length","create","exec","str","call","this","indices","Symbol","replace","substitution","_","group","Array","isArray","join","args","arguments","slice","push","apply","c","u","LineString","MultiLineString","MultiPoint","Point","Polygon","MultiPolygon","s","e","type","features","t","coordinates","p","n","o","r","d","G","w","h","S","F","P","b","j","a","M","y","lengths","coords","hasZ","O","T","data","crs","properties","code","test","L","Set","l","geometryType","m","geometry","id","f","filter","has","delete","add","alias","fields","objectIdFieldName","objectIdFieldType","unknownFields","from","I","objectIdField","links","D","href","signal","query","limit","customParameters","token","apiKey","headers","accept","timeInfo","find","editable","nullable","unshift","warn","message","details","field","startTimeField","endTimeField","trackIdField","drawingInfo","extent","W","x","v","authority","toLowerCase","Number","parseInt","isNaN","N","q","collection","layerDefinition","maxRecordCount","queryParameters","spatialReference","supportedCrs","num","start","timeExtent","where","objectIds","outSpatialReference","C","isWGS84","R","Z","K","datetime","startindex","J","rel","isInteger","numberMatched","numberReturned","z","A","E","U","isWebMercator","objectId","attributes","B","toJSON","Q","exceededTransferLimit","wkid","xmin","ymin","xmax","ymax","end","toISOString","bbox","spatial","zmin","zmax"],"sourceRoot":""}